function showStockListLoader(){$("#loader").fadeIn()}function hideStockListLoader(){$("#loader").fadeOut()}function renderStockList(a){$("#stockListContainer").empty();for(var b in a)if(null!==a[b]){var c=$("<div />",{"class":"row"}),d=$("<div />",{"class":"col-lg-12"}),e=$("<div />",{"class":"panel panel-info"}),f=$("<div />",{"class":"panel-heading"}),g=$("<h3 />",{"class":"panel-title",text:b.toUpperCase()}),h=$("<div />",{"class":"panel-body",text:a[b].dataset.name}),i=$("<div />",{"class":"panel-footer"}),j=$("<button />",{"class":"btn btn-danger pull-right removeStockButton",text:"Remove ","data-name":b}),k=$("<span />",{"class":"glyphicon glyphicon-trash"}),l=$("<div />",{"class":"clearfix"});$(g).appendTo(f),$(f).appendTo(e),$(h).appendTo(e),$(k).appendTo(j),$(j).appendTo(i),$(l).appendTo(i),$(i).appendTo(e),$(e).appendTo(d),$(d).appendTo(c),$(c).appendTo("#stockListContainer")}}var socket=io(),dataset={};$("form").submit(function(){return""!=$("#stockCode").val()?(socket.emit("addStockCode",$("#stockCode").val()),$("#stockCode").val(""),showStockListLoader(),!1):void 0}),$("body").on("click","button.removeStockButton",function(){var a=$(this).data("name");socket.emit("removeStockCode",a)}),$(".alert-danger").click(function(){$(this).fadeOut("slow")}),socket.on("error",function(a){hideStockListLoader(),$(".alert-danger").text(a),$(".alert-danger").fadeIn(),setTimeout(function(){$(".alert-danger").fadeOut("slow")},7e3)}),socket.on("globalNotification",function(a){dataset=a,console.log(dataset),renderStockList(dataset),hideStockListLoader()}),socket.on("addStockCodeSucceed",function(a){for(var b in a)dataset[b]=a[b];renderStockList(dataset),hideStockListLoader()}),socket.on("removeStockCodeSucceed",function(a){delete dataset[a],renderStockList(dataset),hideStockListLoader()});